(this["webpackJsonpgif-expert-app-2"]=this["webpackJsonpgif-expert-app-2"]||[]).push([[0],{29:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(21),o=n.n(a),s=(n(29),n(8)),i=n(3),r={login:"[auth] login",logout:"[auth] logout"},j=function(t,e){switch(e.type){case r.login:return Object(i.a)(Object(i.a)({},e.payload),{},{logged:!0});case r.logout:return{logged:!1};default:return t}},l=Object(c.createContext)(null),d=n(24),b=function(t,e){switch(e.type){case"add":return[].concat(Object(d.a)(t),[e.payload]);case"toggle":return t.map((function(t){return t.id===e.payload?Object(i.a)(Object(i.a)({},t),{},{done:!t.done}):t}));case"delete":return t.filter((function(t){return t.id!==e.payload}));case"edit":return t.map((function(t){return t.id===e.payload.id?Object(i.a)(Object(i.a)({},t),{},{todo:e.payload.todo}):t}));default:return t}},u=n(9),O=n(2),h=n(15),x=function(t){var e=Object(c.useState)(t),n=Object(s.a)(e,2),a=n[0],o=n[1];return[a,function(t){o(Object(i.a)(Object(i.a)({},a),{},Object(h.a)({},t.target.name,t.target.value)))},function(){o(t)}]},p=n(0),m=function(){var t=Object(c.useContext)(l).dispatchAuth,e=x({nick:""}),n=Object(s.a)(e,2),a=n[0],o=n[1],i=a.nick,j=Object(O.useHistory)();return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Login"}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i.trim().length>2&&(t({type:r.login,payload:{name:i}}),j.replace("/"))},children:[Object(p.jsx)("input",{className:"form-control",placeholder:"Input a nick...",type:"text",autoComplete:"off",name:"nick",value:i,onChange:o}),Object(p.jsx)("input",{className:"btn btn-outline-info mt-3",type:"submit",value:"Login"})]})})]})},f=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h3",{children:"About Screen"})})},g=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h3",{children:"Pagina no encontrada"})})},v=function(){var t=Object(c.useContext)(l),e=t.dispatch,n=t.editionMode,a=t.setEditionMode,o=x({task:""}),i=Object(s.a)(o,3),r=i[0].task,j=i[1],d=i[2];return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Form"}),Object(p.jsx)("form",{onSubmit:n.state?function(t){t.preventDefault(),e({type:"edit",payload:{id:n.id,todo:r}}),a({id:"",state:!1}),d()}:function(t){t.preventDefault(),r.trim().length>2&&(e({type:"add",payload:{id:(new Date).getTime(),todo:r,done:!1}}),d())},children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-9",children:Object(p.jsx)("input",{className:"form-control mb-3",type:"text",placeholder:n.state?"".concat(n.todo):"Introduce a todo ...",name:"task",value:r,onChange:j,autoComplete:"off"})}),Object(p.jsxs)("div",{className:"col-3",children:[Object(p.jsx)("input",{className:n.state?"btn btn-outline-warning":"btn btn-outline-primary",type:"submit",value:n.state?"Save":"Add",disabled:!(r.trim().length>2)}),n.state&&Object(p.jsx)("input",{onClick:function(){a({id:"",state:!1})},className:" ml-3 btn btn-outline-danger",type:"button",value:"Cancel"})]})]})})]})},y=function(t){var e=t.todo,n=t.id,a=t.done,o=t.index,s=Object(c.useContext)(l),i=s.dispatch,r=s.setEditionMode;return Object(p.jsxs)("tr",{className:"",children:[Object(p.jsx)("td",{children:o+1}),Object(p.jsx)("td",{children:Object(p.jsxs)("span",{className:"".concat(a&&"complete"),children:[e," "]})}),Object(p.jsx)("td",{children:n}),Object(p.jsxs)("td",{children:[a?Object(p.jsx)("span",{children:"\u2714\ufe0f"}):Object(p.jsx)("span",{children:"\u274c"})," ",Object(p.jsx)("button",{onClick:function(){i({type:"toggle",payload:n})},className:"btn btn-outline-info",type:"button",children:"Change"})]}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{onClick:function(){r({id:n,state:!0,todo:e})},className:"btn btn-outline-warning mr-2",type:"button",children:"Edit"}),Object(p.jsx)("button",{onClick:function(){i({type:"delete",payload:n})},className:"btn btn-outline-danger",type:"button",children:"Delete"})]})]})},N=function(t){var e=t.todos,n=Object(c.useState)(null),a=Object(s.a)(n,2),o=a[0],i=a[1];return Object(c.useEffect)((function(){!function(){var t=e.length,n=e.filter((function(t){return t.done})).length;i(Math.round(n/t*100))}()}),[e]),Object(p.jsx)("div",{children:Object(p.jsxs)("h2",{children:["Todo List"," ",!!e.length&&Object(p.jsxs)("span",{className:"animate__animated animate__fadeIn title-color",children:["( ",Object(p.jsx)("span",{children:o}),"% complete)"]})]})})},C=function(){var t=Object(c.useContext)(l).todos;return Object(p.jsxs)("div",{children:[Object(p.jsx)(N,{todos:t}),t.length?Object(p.jsx)("div",{className:"table-x",children:Object(p.jsxs)("table",{className:"table table-dark",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"N\xb0"}),Object(p.jsx)("th",{scope:"col",children:"Todo"}),Object(p.jsx)("th",{scope:"col",children:"Id"}),Object(p.jsx)("th",{scope:"col",children:"Done"}),Object(p.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(p.jsx)("tbody",{children:t.map((function(t,e){return Object(p.jsx)(y,Object(i.a)(Object(i.a)({},t),{},{index:e}),t.id)}))})]})}):Object(p.jsx)("p",{className:"animate__animated animate__fadeIn",children:"Your Todo List is empty!"})]})},k=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(v,{}),Object(p.jsx)("hr",{}),Object(p.jsx)(C,{})]})},A=function(){var t=Object(c.useContext)(l),e=t.userAuth,n=t.dispatchAuth,a=Object(O.useHistory)();return Object(p.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(p.jsx)(u.b,{className:"navbar-brand",to:"/",children:"APP"}),Object(p.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(p.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(u.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/",children:"Todos"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(u.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/about",children:"About"})})]}),Object(p.jsx)("span",{className:"navbar-text text-info",children:e.name}),Object(p.jsx)("button",{onClick:function(){n({type:r.logout}),a.replace("/login")},type:"button",className:"btn text-secondary",children:"Logout"})]})]})},S=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(A,{}),Object(p.jsx)("div",{className:"container mt-3",children:Object(p.jsxs)(O.Switch,{children:[Object(p.jsx)(O.Route,{exact:!0,path:"/",component:k}),Object(p.jsx)(O.Route,{exact:!0,path:"/about",component:f}),Object(p.jsx)(O.Route,{exact:!0,path:"/notfound",component:g}),Object(p.jsx)(O.Redirect,{to:"/notfound"})]})})]})},w=n(16),I=["isAuthenticated","component"],R=function(t){var e=t.isAuthenticated,n=t.component,c=Object(w.a)(t,I);return Object(p.jsx)(O.Route,Object(i.a)(Object(i.a)({},c),{},{component:function(t){return e?Object(p.jsx)(n,Object(i.a)({},t)):Object(p.jsx)(O.Redirect,{to:"/login"})}}))},E=n(23),_=["isAuthenticated","component"],D=function(t){var e=t.isAuthenticated,n=t.component,c=Object(w.a)(t,_);return Object(p.jsx)(O.Route,Object(i.a)(Object(i.a)({},c),{},{component:function(t){return e?Object(p.jsx)(E.Redirect,{to:"/"}):Object(p.jsx)(n,Object(i.a)({},t))}}))},J=function(){var t=Object(c.useContext)(l).userAuth;return Object(p.jsx)(u.a,{children:Object(p.jsxs)(O.Switch,{children:[Object(p.jsx)(D,{exact:!0,path:"/login",component:m,isAuthenticated:t.logged}),Object(p.jsx)(R,{path:"/",component:S,isAuthenticated:t.logged})]})})},M=function(){var t=Object(c.useReducer)(b,[],(function(){return JSON.parse(localStorage.getItem("list-todos-best"))||[]})),e=Object(s.a)(t,2),n=e[0],a=e[1],o=Object(c.useState)({id:"",state:!1,todo:""}),i=Object(s.a)(o,2),r=i[0],d=i[1];Object(c.useEffect)((function(){localStorage.setItem("list-todos-best",JSON.stringify(n))}),[n]);var u=Object(c.useReducer)(j,{},(function(){return JSON.parse(localStorage.getItem("user-auth-todos"))||{logged:!1}})),O=Object(s.a)(u,2),h=O[0],x=O[1];return Object(c.useEffect)((function(){localStorage.setItem("user-auth-todos",JSON.stringify(h))}),[h]),Object(p.jsx)("div",{children:Object(p.jsx)(l.Provider,{value:{todos:n,dispatch:a,editionMode:r,setEditionMode:d,userAuth:h,dispatchAuth:x},children:Object(p.jsx)(J,{})})})};o.a.render(Object(p.jsx)(M,{}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.574ad8cd.chunk.js.map